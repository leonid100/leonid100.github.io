<body>
    <input type="text" id="from" value="0">
    <input type="text" id="to" value="10">
       
    <button type="button" id="btnDownload">Download</button>
    <canvas id="myCanvas" width="640" height="480" style="border: 2px solid #000; float: left;"></canvas>
<!--
    <img src="220c656e.jpg" id="imgConverted" style="float: left; border: 2px solid #00f; margin-left: 10px;">
-->
    <script>
        
        const btnDownload = document.querySelector("#btnDownload");
        const myCanvas = document.querySelector("#myCanvas");
        //const imgConverted = document.querySelector("#imgConverted");
        const ctx = myCanvas.getContext("2d");

        var background = new Image();
        //background.setAttribute('crossorigin', 'anonymous');
        background.src = "220c656e.jpg";
        background.onload = function(){
            ctx.drawImage(background,0,0);
            ctx.font = "50px Roboto";
            ctx.fillStyle = "red";
            ctx.fillText("LTest0022", 100, 100);
        }
        const a = document.createElement("a");

        function drawAndSave(from, to) {
            ctx.font = "50px Roboto";
            for (var i = from; i <= to; i++) {
                ctx.drawImage(background,0,0);
                ctx.fillText(i, 100, 100);
                a.href = myCanvas.toDataURL();
                a.download = i.toString + ".png";
                a.click();
            }
        }

        btnDownload.addEventListener("click", function(){
            var from = document.querySelector("#from").value;
            var to = document.querySelector("#to").value;
            //document.body.appendChild(a);
            a.href = myCanvas.toDataURL();
            a.download = "1test.png";
            a.click();
            drawAndSave(from, to);
            //document.body.removeChild(a);
        });
    </script>
</body>